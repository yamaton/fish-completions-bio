# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Fish shell command completion scripts for bioinformatics tools. Provides auto-completion for 200+ bioinformatics commands (samtools, bcftools, minimap2, etc.) when using the Fish shell.

## Repository Structure

- `completions/` - 580 `.fish` completion script files (auto-generated)
- `install.sh` - Downloads pre-built release tarball and extracts to `~/.config/fish/completions/`
- `README.md` - Project documentation

## Key Technical Details

### Completion Script Format

All scripts are auto-generated by [h2o](https://github.com/yamaton/h2o) from help/man pages. They use Fish's `complete` command:

```fish
complete -c <command> -s <short> -l <long> -d "description" -r/-x/-f
```

- `-r` requires argument (file completion)
- `-x` requires argument (no file completion)
- `-f` no file completion

### Data Sources

- Curated tool list: https://github.com/yamaton/h2o-curated-data/blob/main/bio.txt
- Generator tool: https://github.com/yamaton/h2o

### Known Limitations

- Fish's `__fish_seen_subcommand_from` checks if a subcommand name appears anywhere on the command line, regardless of position. If the same subcommand name is used at different nesting levels, options may leak between contexts.

## Development Notes

- **Do not manually edit completion files** - they are auto-generated
- To add new tools, request via GitHub issues or update the h2o-curated-data repository
- Recent commits follow pattern: "Add [toolname]" or "Rename [old] to [new]"
